[gd_scene load_steps=29 format=3 uid="uid://d3vuavic5m7jl"]

[ext_resource type="PackedScene" uid="uid://chd5j2uijiqsk" path="res://Scenes/player.tscn" id="1_mi5pu"]
[ext_resource type="Texture2D" uid="uid://cvh4yyxla63yc" path="res://Assets/Sprites/platforms.png" id="2_dq3qw"]
[ext_resource type="Texture2D" uid="uid://ci4ymtvj26gqa" path="res://Assets/Sprites/Sprite-0002.png" id="3_6d6mt"]
[ext_resource type="PackedScene" uid="uid://3j2ivcrw8r3t" path="res://Scenes/platform.tscn" id="4_icexa"]
[ext_resource type="PackedScene" uid="uid://cqrt8yxe5160f" path="res://Scenes/Pickup.tscn" id="6_n7eac"]
[ext_resource type="PackedScene" uid="uid://cknnis3c2wiuy" path="res://Scenes/killzone.tscn" id="6_vcf38"]
[ext_resource type="Resource" uid="uid://dog0ehkcllgmu" path="res://InventoryItems/EssenceOfRain.tres" id="7_tcxwa"]
[ext_resource type="Texture2D" uid="uid://dm6wqasaeg7q0" path="res://Assets/Sprites/Inventory/Essence of rain.png" id="7_v7odm"]
[ext_resource type="Texture2D" uid="uid://8akf6gkuwb5e" path="res://Assets/Sprites/Inventory/MoonCrystal.png" id="8_6vhai"]
[ext_resource type="Resource" uid="uid://bc1ns2grlsrwx" path="res://InventoryItems/Moon.tres" id="9_httpg"]
[ext_resource type="Texture2D" uid="uid://bt4d2pu05imq4" path="res://Assets/Sprites/Glow-sheet.png" id="11_0cktn"]
[ext_resource type="PackedScene" uid="uid://bjdvfjmjw2vft" path="res://Scenes/player_behaviour.tscn" id="12_eyvgd"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_it1jt"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_27ebv"]
texture = ExtResource("2_dq3qw")
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0
0:2/0 = 0
0:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:2/0/physics_layer_0/angular_velocity = 0.0
0:3/0 = 0
0:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:3/0/physics_layer_0/angular_velocity = 0.0
1:0/size_in_atlas = Vector2i(2, 1)
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
1:1/size_in_atlas = Vector2i(2, 1)
1:1/0 = 0
1:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:1/0/physics_layer_0/angular_velocity = 0.0
1:2/0 = 0
1:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:2/0/physics_layer_0/angular_velocity = 0.0
2:2/0 = 0
2:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:2/0/physics_layer_0/angular_velocity = 0.0
1:3/0 = 0
1:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:3/0/physics_layer_0/angular_velocity = 0.0
2:3/0 = 0
2:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:3/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_176wp"]
texture = ExtResource("3_6d6mt")
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSet" id="TileSet_1lsyb"]
physics_layer_0/collision_layer = 1
physics_layer_0/physics_material = SubResource("PhysicsMaterial_it1jt")
terrain_set_0/mode = 0
terrain_set_0/terrain_0/name = "Terra 0"
terrain_set_0/terrain_0/color = Color(0.5, 0.34375, 0.25, 1)
sources/0 = SubResource("TileSetAtlasSource_27ebv")
sources/2 = SubResource("TileSetAtlasSource_176wp")

[sub_resource type="Animation" id="Animation_06302"]
resource_name = "Move"
length = 3.0
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(300, 42), Vector2(200, 42)]
}

[sub_resource type="Animation" id="Animation_45fmu"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(200, 42)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_kr7w3"]
_data = {
"Move": SubResource("Animation_06302"),
"RESET": SubResource("Animation_45fmu")
}

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_fbjm2"]

[sub_resource type="AtlasTexture" id="AtlasTexture_bcf5t"]
atlas = ExtResource("11_0cktn")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_d7kdo"]
atlas = ExtResource("11_0cktn")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_1wv7g"]
atlas = ExtResource("11_0cktn")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_ouu3c"]
atlas = ExtResource("11_0cktn")
region = Rect2(48, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_gn65m"]
atlas = ExtResource("11_0cktn")
region = Rect2(64, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_p2h44"]
atlas = ExtResource("11_0cktn")
region = Rect2(80, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_r77xn"]
atlas = ExtResource("11_0cktn")
region = Rect2(96, 0, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_3bll5"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_bcf5t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d7kdo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1wv7g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ouu3c")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gn65m")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_p2h44")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r77xn")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="GameRoot" type="Node2D"]

[node name="Player" parent="." instance=ExtResource("1_mi5pu")]
position = Vector2(0, 8)

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(0, -21)
zoom = Vector2(4, 4)
process_callback = 0
limit_bottom = 130
position_smoothing_enabled = true
drag_horizontal_enabled = true
drag_vertical_enabled = true
drag_left_margin = 0.1
drag_top_margin = 0.1
drag_right_margin = 0.1
drag_bottom_margin = 0.1
editor_draw_limits = true
editor_draw_drag_margin = true

[node name="Map" type="Node" parent="."]

[node name="TileMap" type="TileMap" parent="Map"]
tile_set = SubResource("TileSet_1lsyb")
format = 2
layer_0/tile_data = PackedInt32Array(65545, 2, 0, 131081, 65538, 0, 65546, 2, 0, 131082, 65538, 0, -196591, 65538, 0, -131055, 65538, 0, -262126, 2, 0, -196590, 65538, 0, -131054, 65538, 0, -262125, 2, 0, -196589, 65538, 0, -131053, 65538, 0, 131094, 2, 0, 196630, 65538, 0, 131095, 2, 0, 196631, 65538, 0, -196584, 2, 0, 65566, 2, 0, 131102, 65538, 0, 196638, 65538, 0, -196593, 2, 0, -131057, 65538, 0, -262128, 2, 0, -196592, 65538, 0, -131056, 65538, 0, -262127, 2, 0, 131092, 2, 0, 196628, 65538, 0, 131093, 2, 0, 196629, 65538, 0, -262119, 2, 0, -262118, 2, 0, -196581, 2, 0, 65564, 2, 0, 131100, 65538, 0, 196636, 65538, 0, 65565, 2, 0, 131101, 65538, 0, 196637, 65538, 0, -65503, 2, 0, -196573, 2, 0, -327644, 2, 0, -327641, 2, 0, -262105, 65538, 0, -196569, 65538, 0, -327640, 2, 0, -262104, 65538, 0, -196568, 65538, 0, 196602, 2, 0, 262138, 65538, 0, 262139, 65538, 0, 262140, 65538, 0, 262141, 65538, 0, 262142, 65538, 0, 262143, 65538, 0, 196608, 65538, 0, 196609, 65538, 0, 196610, 65538, 0, 196611, 65538, 0, 196612, 65538, 0, 131077, 2, 0, 196613, 65538, 0, 196601, 2, 0, 262137, 65538, 0, 196603, 2, 0, 196604, 2, 0, 196605, 2, 0, 196606, 2, 0, 196607, 2, 0, 131072, 2, 0, 131073, 2, 0, 131074, 2, 0, 131075, 2, 0, 131076, 2, 0)

[node name="Platform" parent="Map" instance=ExtResource("4_icexa")]
position = Vector2(206, -19)

[node name="Platform2" parent="Map" instance=ExtResource("4_icexa")]
position = Vector2(200, 42)

[node name="AnimationPlayer" type="AnimationPlayer" parent="Map/Platform2"]
libraries = {
"": SubResource("AnimationLibrary_kr7w3")
}
autoplay = "Move"

[node name="Killzone" parent="Map" instance=ExtResource("6_vcf38")]
position = Vector2(0, 82)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/Killzone"]
shape = SubResource("WorldBoundaryShape2D_fbjm2")

[node name="Pickups" type="Node" parent="."]

[node name="Pickup-ThingyOfRain" parent="Pickups" instance=ExtResource("6_n7eac")]
position = Vector2(80, 16)
item = ExtResource("7_tcxwa")

[node name="Sprite2D" type="Sprite2D" parent="Pickups/Pickup-ThingyOfRain"]
texture = ExtResource("7_v7odm")

[node name="Pickup-Moon" parent="Pickups" instance=ExtResource("6_n7eac")]
position = Vector2(160, 8)
item = ExtResource("9_httpg")

[node name="Sprite2D" type="Sprite2D" parent="Pickups/Pickup-Moon"]
texture = ExtResource("8_6vhai")

[node name="Pickup-Moon2" parent="Pickups" instance=ExtResource("6_n7eac")]
position = Vector2(336, 24)
item = ExtResource("9_httpg")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Pickups/Pickup-Moon2"]
position = Vector2(9, -10)
sprite_frames = SubResource("SpriteFrames_3bll5")
autoplay = "default"
frame_progress = 0.299715

[node name="AnimatedSprite2D2" type="AnimatedSprite2D" parent="Pickups/Pickup-Moon2"]
position = Vector2(-11, -8)
sprite_frames = SubResource("SpriteFrames_3bll5")
autoplay = "default"
frame_progress = 0.113427

[node name="Sprite2D" type="Sprite2D" parent="Pickups/Pickup-Moon2"]
texture = ExtResource("8_6vhai")

[node name="BehaviourTree" parent="." instance=ExtResource("12_eyvgd")]
